---
layout: resource
title: Customer Group
intro: "A <strong>customer group</strong> is a grouping of customers defined by simple rules set by shopowners. A shopowner creates a customer group first by applying one or more filters while doing a search through customers. As soon as the first filter is applied, the shopowner has the option of saving the search as a customer group and giving it a name. The customer group is then created and the shopowner can select the group to see a list of the customers that fit within that group."
---
<div class='row-fluid'>
  <div class='span12'>
    
    <p>Smart Collections are similar to customer groups in that they are collections automatically populated based on predefined rules. Unlike customer groups, smart collections are visible to both shopowners and customers and offer benefits for both (less work for shopowners, useful categories of products for customers).</p>

    <h2>What can you do with customer groups using the Shopify API?</h2>

    <p>The Shopify API lets you do the following with customer groups:</p>
    <ul>
      <li><strong>Get information</strong> about one or more customer groups</li>
      <li><strong>Count</strong> all or specific customer groups</li>
      <li><strong>Create</strong> a new customer group</li>
      <li><strong>Modify</strong> a customer group</li>
      <li><strong>Delete</strong> a customer group</li>
    </ul>
    <p>You can do a little more with customer groups through the API than you can through the shop's admin page. The API lets you modify an existing customer group while the admin UI doesn't.</p>
    
    <h2>Customer group properties</h2>
    <table class='table table-striped table-bordered'>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong><tt>created_at</tt></strong></td>
          <td>The date and time when the customer group was created. The API returns this value in <a href='http://en.wikipedia.org/wiki/ISO_8601'>ISO 8601 format.</a></td>
        </tr>
        <tr>
          <td><strong><tt>id</tt></strong></td>
          <td>A unique numeric identifier for the customer group.</td>
        </tr>
        <tr>
          <td><strong><tt>name</tt></strong></td>
          <td>The name given by the shopowner to the customer group.</td>
        </tr>
        <tr>
          <td><strong><tt>query</tt></strong></td>
          <td>The set of conditions that determines which customers will go into the customer group. Queries are covered in more detail in Customer group queries, below.</td>
        </tr>
        <tr>
          <td><strong><tt>updated_at</tt></strong></td>
          <td>The date and time when the customer group was last modified. The API returns this value in <a href='http://en.wikipedia.org/wiki/ISO_8601'>ISO 8601 format.</a></td>
        </tr>
      </tbody>
    </table>
    
    <h2>Customer group queries</h2>
    <table class='table table-striped table-bordered'>
      <tr>
        <th width="15%">API value</th>
        <th width="15%">Admin UI value</th>
        <th width="70%">Description</th>
      </tr>
      <tr>
        <td><tt>accepts_marketing</tt></td>
        <td>Accepts marketing</td>
        <td>
          <p>Limits the customers in the group to those who either accept email marketing or don't.</p>
          <p>Valid values are listed below and limit the customers in the group who:</p>
          <ul>
            <li><strong><tt>0</tt>:</strong> don't accept email marketing.
            <li><strong><tt>1</tt>:</strong> accept email marketing.
          </ul>
        </td>
      </tr>
      <tr>
        <td><tt>country</tt></td>
        <td>Located in</td>
        <td>
          <p>Limits the customers in the group to those based in a specific country.</p>
          <p>Valid values are the full name of any country, contained in single quotes.</p>
          <p>Examples:</p>
            <ul>
              <li><strong><tt>'United States'</tt></strong> limits the group to customers from the US.
              <li><strong><tt>'Canada'</tt></strong> limits the group to customers from Canada.
            </ul>
        </td>
      </tr>
      <tr>
        <td><tt>last_abandoned_order_date</tt></td>
        <td>Abandoned an order</td>
        <td>
          <p>Limits the customers in the group to those who abandoned an order within a specific set of dates.</p>
          <p>Valid values are listed below and limit the customers in the group to those who abandoned an order...</p>
          <ul>
            <li><strong><tt>last_week</tt>:</strong> within the last week.
            <li><strong><tt>last_month</tt>:</strong> within the last month.
          </ul>
        </td>
      </tr>
      <tr>
        <td><tt>last_order_date</tt></td>
        <td>Placed an order</td>
        <td>
          <p>Limits the customers in the group to those who placed an order within a specific set of dates.</p>
          <p>Valid values are listed below and limit the customers in the group to those who placed an order...</p>
          <ul>
            <li><strong><tt>last_week</tt>:</strong> within the last week.</li>
            <li><strong><tt>last_month</tt>:</strong> within the last month.</li>
            <li><strong><tt>last_3_months</tt>:</strong> within the last 3 months.</li>
            <li><strong><tt>last_year</tt>:</strong> within the last year.</li>
            <li><strong><tt>&lt;<em>yyyy-m-d</em></tt>:</strong> before the specified date.</li>
            <li><strong><tt>&gt;<em>yyyy-m-d</em></tt>:</strong> after the specified date.</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td><tt>orders_count</tt></td>
        <td>Orders placed</td>
        <td>
          <p>Limits the customers in the group to those who placed a certain number of orders.</p>
          <p>Valid values are listed below and limit the customers in the group to those who placed...</p>
          <ul>
            <li><strong><tt>&lt;<em>number_of_orders</em></tt>:</strong> fewer than the specifed number of orders.</li>
            <li><strong><tt>&gt;<em>number_of_orders</em></tt>:</strong> more than the specified number of orders.</li>
            <li><strong><tt><em>number_of_orders</em></tt>:</strong> the specified number of orders.</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td><tt>state</tt></td>
        <td>Account status</td>
        <td>
          <p>Limits the customers in the group to those whose accounts have a specific status.</p>
          <p>Valid values are listed below and limit the customers in the group to those whose status is:</p>
          <ul>
            <li><strong><tt>declined</tt>:</strong></li>
            <li><strong><tt>disabled</tt>:</strong></li>
            <li><strong><tt>enabled</tt>:</strong></li>
            <li><strong><tt>invited</tt>:</strong></li>
          </ul>
        </td>
      </tr>
      <tr>
        <td><tt>tag</tt></td>
        <td>Tagged with</td>
        <td>
          <p>Limits the customers to in the group to those who have a specific tag.</p>
          <p>Valid values are any tag that currently applied to any customer, contained in single quotes.</p>
          <p>Examples:</p>
          <ul>
            <li><strong><tt>'Big spender'</tt></strong> limits the group to customers with the tag "Big spender".</li>
            <li><strong><tt>'Favorite'</tt></strong> limits the group to customers with the tag "Favorite".</li>
          </ul>
        </td>
      </tr>
      <tr>
        <td><tt>total_spent</tt></td>
        <td>Money spent</td>
        <td>
          <p>Limits the customers in the group to those who have spent a specific amount of money over their entire history at the shop.</p>
          <p>Valid values are listed below and limit the customers in the group to those who spent...</p>
          <ul>
            <li><strong><tt>&lt;''money_amount''</tt>:</strong> less than the specified amount of money.</li>
            <li><strong><tt>&lt;''money_amount''</tt>:</strong> more than the specified amount of money.</li>
            <li><strong><tt>''money_amount''</tt>:</strong> the specified amount of money.</li>
          </ul>
        </td>
      </tr>
    </table>

    <h2>Endpoints</h2>
    <script type="text/javascript">$(".collapse").collapse()</script>
    <div class="accordion" id="accordion1">
      <div class="accordion-group">
        <div class="accordion-heading">
          <a class='accordion-toggle' data-toggle='collapse' data-parent='#accordion1' href='#collapseOne'>
              <tt>GET /admin/customer_groups.json</tt>
          </a>
        </div>
        <div id="collapseOne" class="accordion-body collapse">
          <div class="accordion-inner">
            <h3>Query parameters</h3>
            <p>By default, requesting a list of customer groups returns all the customer groups for that shop. You can use the optional query parameters listed below to filter the returned list by specific criteria.</p>

            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong><tt>fields</tt></strong></td>
                  <td>A comma-separated list of the properties you want returned for each customer group in the result list. By default, the returned list of customer groups is a list of customer groups with all the properties included. Use this parameter to restrict the returned list of customer groups to showing only those properties you specify, with each property name separated by a comma.</td>
                </tr>
                <tr>
                  <td><strong><tt>limit</tt></strong></td>
                  <td>The maximum number of customer groups that should be returned. By default, the maximum number of customer groups returned is 50. Use this parameter to change the maximum number of returned customer groups from 1 to 250. Setting this parameter outside the 1 - 250 range will result in an error.</td>
                </tr>
                <tr>
                  <td><strong><tt>page</tt></strong></td>
                  <td>The page of the result list to retrieve. Use this in tandem with limit to page through the customer groups in a shop.</td>
                </tr>
                <tr>
                  <td><strong><tt>since_id</tt></strong></td>
                  <td>The lower bound on a customer group’s id. Use this parameter to restrict the returned list to only customer groups whose id is greater than the specified id.</td>
                </tr>
              </tbody>
            </table>
            
            <h3>Example: Get a list of all the customer groups</h3>
            <p>In this example, we want to retrieve a list of all the smart collections for the shop.</p>
            
            <h4>Request:</h4>
            <pre class="prettyprint linenums">GET /admin/customer_groups.json</pre>
            
            <h4>Response:</h4>
            <pre class="prettyprint linenums">
HTTP/1.1 200 OK[]
{
  "customer_groups": [
    {
      "created_at": "2012-03-06T11:09:53-05:00",
      "id": 789629109,
      "name": "Accepts Marketing",
      "updated_at": "2012-03-06T11:09:53-05:00",
      "query": "accepts_marketing:1"
    },
    {
      "created_at": "2012-03-06T11:09:53-05:00",
      "id": 20610973,
      "name": "Canadian Snowboarders",
      "updated_at": "2012-03-06T11:09:53-05:00",
      "query": "location:Canada"
    },
    {
      "created_at": "2012-03-06T11:09:53-05:00",
      "id": 669439218,
      "name": "Premier Customers",
      "updated_at": "2012-03-06T11:09:53-05:00",
      "query": "John Smith orders_count:>10 total_spent:>100.00"
    }
  ]
}
            </pre>
            
            </div>
          </div>
        </div>
        
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class='accordion-toggle' data-toggle='collapse' data-parent='#accordion1' href='#collapseTwo'>
              <tt>GET /admin/customer_groups/:customer_group_id.json</tt>
            </a>
          </div>
          <div id="collapseTwo" class="accordion-body collapse">
            <div class="accordion-inner">
              <h3>Example: Get a specific customer group</h3>
              <p>In this example, we want to retrieve the customer group whose <code>id</code> is <code>7283055</code>.</p>

              <h4>Request:</h4>
              <pre class="prettyprint linenums">GET /admin/customer_groups/7283055.json</pre>

              <h4>Response:</h4>
              <pre class="prettyprint linenums">
HTTP/1.1 200 OK[]
{
  "customer_group": {
    "created_at": "2012-03-06T11:09:53-05:00",
    "id": 789629109,
    "name": "Accepts Marketing",
    "updated_at": "2012-03-06T11:09:53-05:00",
    "query": "accepts_marketing:1"
  }
}
              </pre>
              
            </div>
          </div>
        </div>
        
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class='accordion-toggle' data-toggle='collapse' data-parent='#accordion1' href='#collapseThree'>
              <tt>GET /admin/customer_groups/:customer_group_id/customers.json</tt>
            </a>
          </div>
          <div id="collapseThree" class="accordion-body collapse">
            <div class="accordion-inner">
              
              <h3>Query parameters</h3>
              <table>
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><strong><tt>fields</tt></strong></td>
                    <td>A comma-separated list of the properties you want returned for each customer in the result list. By default, the returned list of customers is a list of customers with all the properties included. Use this parameter to restrict the returned list of customers to showing only those properties you specify, with each property separated by a comma.</td>
                  </tr>
                  <tr>
                    <td><strong><tt>limit</tt></strong></td>
                    <td>The maximum number of customers that should be returned. By default, the maximum number of customers returned is 50. Use this parameter to change the maximum number of returned customers from 1 to 250. Setting this parameter outside the 1 - 250 range will result in an error.
                    </td>
                  </tr>
                  <tr>
                    <td><strong><tt>order</tt></strong></td>
                    <td>The field and direction by which results should be ordered. The default value is <tt>last_order_date DESC</tt>.</td>
                  </tr>
                  <tr>
                    <td><strong><tt>page</tt></strong></td>
                    <td>The page of the result list to retrieve. Use this in tandem with <tt>limit</tt> to page through the customers in a shop.</td>
                  </tr>
                </tbody>
              </table>
              
              <h3>Example: Get a list of a customer group's customers</h3>
              <p>In this example, we want to retrieve a list of the customers who belong to the customer group whose <tt>id</tt> is <tt>7283055</tt>.</p>
              
              <h4>Request:</h4>
              <pre class="prettyprint linenums">GET /admin/customer_groups/7283055/customers.json</pre>

              <h4>Response:</h4>
              <pre class="prettyprint linenums">
HTTP/1.1 200 OK[]
{
  "customers": [
    {
      "accepts_marketing": false,
      "created_at": "2012-03-13T16:09:55-04:00",
      "email": "bob.norman@hostmail.com",
      "first_name": "Bob",
      "id": 207119551,
      "last_name": "Norman",
      "note": null,
      "orders_count": 0,
      "state": null,
      "total_spent": "0.00",
      "updated_at": "2012-03-13T16:09:55-04:00",
      "tags": "",
      "addresses": [
        {
          "address1": "Chestnut Street 92",
          "address2": "",
          "city": "Louisville",
          "company": null,
          "country": "US",
          "first_name": null,
          "id": 207119551,
          "last_name": null,
          "phone": "555-625-1199",
          "province": "KY",
          "zip": "40202",
          "name": null,
          "province_code": null,
          "country_code": null,
          "default": true
        }
      ]
    }
  ]
}
              </pre>
              
            </div>
          </div>
        </div>
        
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class='accordion-toggle' data-toggle='collapse' data-parent='#accordion1' href='#collapseFour'>
              <tt>POST /admin/customer_groups.json</tt>
            </a>
          </div>
          <div id="collapseFour" class="accordion-body collapse">
            <div class="accordion-inner">
              <h3>Example: Create a new customer group</h3>
              <p>In this example, we want to create a new customer group with the following properties:</p>
              <ul>
                <li><strong><tt>name</tt>:</strong> Spent more than $50
                <li><strong><tt>query</tt>:</strong> <tt>total_spent:>50</tt>
              </ul>

              <h4>Request:</h4>
              <pre class="prettyprint linenums">POST /admin/customer_groups.json</pre>

              <h4>Request body:</h4>
              <pre class="prettyprint linenums">
{
  "customer_group": {
    "name": "Spent more than $50",
    "query": "total_spent:>50"
  }
}
              </pre>

              <h4>Response:</h4>
              <pre class="prettyprint linenums">
HTTP/1.1 201 Created[]
{
  "customer_group": {
    "created_at": "2012-03-13T16:10:21-04:00",
    "id": 1030603237,
    "name": "Spent more than $50",
    "updated_at": "2012-03-13T16:10:21-04:00",
    "query": "total_spent:>50"
  }
}
              </pre>
              
            </div>
          </div>
        </div>
        
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class='accordion-toggle' data-toggle='collapse' data-parent='#accordion1' href='#collapseFive'>
              <tt>PUT /admin/customer_groups/:customer_group_id.json</tt>
            </a>
          </div>
          <div id="collapseFive" class="accordion-body collapse">
            <div class="accordion-inner">
              <h3>Example: Modify a customer group</h3>
              <p>In this example, we want to modify the customer group whose <tt>id</tt> is <tt>789629109</tt>, changing the <tt>name</tt> to <tt>This Name Has Been Changed<tt>.</p>
                
              <h4>Request:</h4>
              <pre class="prettyprint linenums">PUT /admin/customer_groups/789629109.json</pre>

              <h4>Request body:</h4>
              <pre class="prettyprint linenums">
{
  "customer_group": {
    "created_at": "2012-03-06T11:09:53-05:00",
    "id": 789629109,
    "name": "This Name Has Been Changed",
    "updated_at": "2012-03-06T11:09:53-05:00",
    "query": "accepts_marketing:1"
  }
}
              </pre>

              <h4>Response:</h4>
              <pre class="prettyprint linenums">
HTTP/1.1 200 OK[]
{
  "customer_group": {
    "created_at": "2012-03-06T11:09:53-05:00",
    "id": 789629109,
    "name": "This Name Has Been Changed",
    "updated_at": "2012-03-13T16:10:21-04:00",
    "query": "accepts_marketing:1"
  }
}
              </pre>
              
            </div>
          </div>
        </div>
        <div class="accordion-group">
          <div class="accordion-heading">
            <a class='accordion-toggle' data-toggle='collapse' data-parent='#accordion1' href='#collapseSix'>
              <tt>DELETE /admin/customer_groups/:customer_group_id.json</tt>
            </a>
          </div>
          <div id="collapseSix" class="accordion-body collapse">
            <div class="accordion-inner">
              <h3>Example: Delete a customer group</h3>
              <p>In this example, we want to delete the customer group whose <tt>id</tt> is <tt>789629109</tt>.</p>
              
              <h4>Request:</h4>
              <pre class="prettyprint linenums">DELETE /admin/customer_groups/789629109.json</pre>

              <h4>Response:</h4>
              <pre class="prettyprint linenums">
HTTP/1.1 200 OK[]
{}
              </pre>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>